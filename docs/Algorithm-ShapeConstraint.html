<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Algorithm.ShapeConstraint</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="src/Algorithm.ShapeConstraint.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Fabricio Olivetti de Franca 2022</td></tr><tr><th>License</th><td>GPL-3</td></tr><tr><th>Maintainer</th><td>fabricio.olivetti@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Algorithm.ShapeConstraint</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This package provides support functions to evaluate different 
shape-constraints for symbolic regression using modal arithmetic.</p><p>See <a href="https://direct.mit.edu/evco/article/30/1/75/99840">https://direct.mit.edu/evco/article/30/1/75/99840</a> for more details.</p><pre>@article{kronberger2022shape,
  title={Shape-Constrained Symbolic Regression&#8212;Improving Extrapolation with Prior Knowledge},
  author={Kronberger, Gabriel and de Fran{c{c}}a, Fabricio Olivetti and Burlacu, Bogdan and Haider, Christian and Kommenda, Michael},
  journal={Evolutionary computation},
  volume={30},
  number={1},
  pages={75--98},
  year={2022},
  publisher={MIT Press One Rogers Street, Cambridge, MA 02142-1209, USA journals-info~&#8230;}
}
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:getViolationFun">getViolationFun</a> :: <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a> -&gt; [<a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a>] -&gt; Domains -&gt; ConstraintFun</li><li class="src short"><span class="keyword">data</span> <a href="#t:Evaluator">Evaluator</a><ul class="subs"><li>= <a href="#v:InnerInterval">InnerInterval</a></li><li>| <a href="#v:OuterInterval">OuterInterval</a></li><li>| <a href="#v:Sampling">Sampling</a> Int</li><li>| <a href="#v:Hybrid">Hybrid</a></li><li>| <a href="#v:Bisection">Bisection</a> Int</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Shape">Shape</a><ul class="subs"><li>= <a href="#v:Range">Range</a> (Double, Double)</li><li>| <a href="#v:DiffRng">DiffRng</a> Int (Double, Double)</li><li>| <a href="#v:NonIncreasing">NonIncreasing</a> Int</li><li>| <a href="#v:NonDecreasing">NonDecreasing</a> Int</li><li>| <a href="#v:PartialNonIncreasing">PartialNonIncreasing</a> Int (Double, Double)</li><li>| <a href="#v:PartialNonDecreasing">PartialNonDecreasing</a> Int (Double, Double)</li><li>| <a href="#v:Inflection">Inflection</a> Int Int</li><li>| <a href="#v:Convex">Convex</a> Int Int</li><li>| <a href="#v:Concave">Concave</a> Int Int</li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:getViolationFun" class="def">getViolationFun</a> :: <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a> -&gt; [<a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a>] -&gt; Domains -&gt; ConstraintFun <a href="src/Algorithm.ShapeConstraint.html#getViolationFun" class="link">Source</a> <a href="#v:getViolationFun" class="selflink">#</a></p><div class="doc"><p>Returns a constraint function given an <code><a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></code> a list of <code><a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a></code> and the
 <code>Domains</code> of the input variables.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Evaluator" class="def">Evaluator</a> <a href="src/Algorithm.ShapeConstraint.html#Evaluator" class="link">Source</a> <a href="#t:Evaluator" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></code> indicates the algorithm used to calculate the constraint:</p><ul><li>InnerInterval can result in false positives (i.e., it says it is feasible but it is not)</li><li>OuterInterval can result in false negatives (i.e., it says it is infeasible but it is not)</li><li>Sampling can result in false positives and usually requires a lot of samples</li><li>Hybrid - not yet implemented</li><li>Bisection can improve the results of OuterInterval</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InnerInterval" class="def">InnerInterval</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:OuterInterval" class="def">OuterInterval</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Sampling" class="def">Sampling</a> Int</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Hybrid" class="def">Hybrid</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Bisection" class="def">Bisection</a> Int</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Evaluator">Instances</h4><details id="i:Evaluator" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Evaluator:Read:1"></span> Read <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></span> <a href="src/Algorithm.ShapeConstraint.html#line-84" class="link">Source</a> <a href="#t:Evaluator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Evaluator:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Algorithm-ShapeConstraint.html">Algorithm.ShapeConstraint</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Evaluator:Show:2"></span> Show <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a></span> <a href="src/Algorithm.ShapeConstraint.html#line-84" class="link">Source</a> <a href="#t:Evaluator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Evaluator:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Algorithm-ShapeConstraint.html">Algorithm.ShapeConstraint</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Algorithm-ShapeConstraint.html#t:Evaluator" title="Algorithm.ShapeConstraint">Evaluator</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Shape" class="def">Shape</a> <a href="src/Algorithm.ShapeConstraint.html#Shape" class="link">Source</a> <a href="#t:Shape" class="selflink">#</a></p><div class="doc"><p>Data type describing the type of constraint:</p><ul><li>Range of the function</li><li>Range of a partial derivative</li><li>Monotonicity (non-increasing and non-decreasing)</li><li>Partial monotonicity</li><li>Inflection, Convex or Concave</li></ul><p>The monotonicity constraints require the index of the
 variable, the ranges require a tuple of the minimum and
 maximum values, the partial monotonicity also requires
 the range of the domain that has this property,
 inflection, convexity and concavity requires the first
 and second index of the partial derivatives.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Range" class="def">Range</a> (Double, Double)</td><td class="doc"><p>f(x) in [a, b]</p></td></tr><tr><td class="src"><a id="v:DiffRng" class="def">DiffRng</a> Int (Double, Double)</td><td class="doc"><p>d f(x) / dx in [a, b]</p></td></tr><tr><td class="src"><a id="v:NonIncreasing" class="def">NonIncreasing</a> Int</td><td class="doc"><p>d f(x) / dx in [-inf, 0]</p></td></tr><tr><td class="src"><a id="v:NonDecreasing" class="def">NonDecreasing</a> Int</td><td class="doc"><p>d f(x) / dx in [0, inf]</p></td></tr><tr><td class="src"><a id="v:PartialNonIncreasing" class="def">PartialNonIncreasing</a> Int (Double, Double)</td><td class="doc"><p>d f(x) / dx in [-inf, 0], a &lt;= x &lt;= b</p></td></tr><tr><td class="src"><a id="v:PartialNonDecreasing" class="def">PartialNonDecreasing</a> Int (Double, Double)</td><td class="doc"><p>d f(x) / dx in [0, inf], a &lt;= x &lt;= b</p></td></tr><tr><td class="src"><a id="v:Inflection" class="def">Inflection</a> Int Int</td><td class="doc"><p>d^2 f(x)/dx^2 == 0</p></td></tr><tr><td class="src"><a id="v:Convex" class="def">Convex</a> Int Int</td><td class="doc"><p>d^2 f(x)/dx^2 in (0, Infinity)</p></td></tr><tr><td class="src"><a id="v:Concave" class="def">Concave</a> Int Int</td><td class="doc"><p>d^2 f(x)/dx^2 in (-Infinitiy,0)</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Shape">Instances</h4><details id="i:Shape" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Shape:Read:1"></span> Read <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a></span> <a href="src/Algorithm.ShapeConstraint.html#line-71" class="link">Source</a> <a href="#t:Shape" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Shape:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Algorithm-ShapeConstraint.html">Algorithm.ShapeConstraint</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Shape:Show:2"></span> Show <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a></span> <a href="src/Algorithm.ShapeConstraint.html#line-71" class="link">Source</a> <a href="#t:Shape" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Shape:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Algorithm-ShapeConstraint.html">Algorithm.ShapeConstraint</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Algorithm-ShapeConstraint.html#t:Shape" title="Algorithm.ShapeConstraint">Shape</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:OptIntPow:OptIntPow:1"></span> OptIntPow (Vector Double)</span> <a href="src/Algorithm.ShapeConstraint.html#line-198" class="link">Source</a> <a href="#v:-36-fOptIntPowVector" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:OptIntPow:OptIntPow:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-94-.">(^.)</a> :: Vector Double -&gt; Int -&gt; Vector Double</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>